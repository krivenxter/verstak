<!-- HTML -->
<!doctype html>
<html lang="en">
<head>
  <link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
<link rel="manifest" href="site.webmanifest">
  <!-- прячем тело до применения i18n -->
<style>
  html:not(.i18n-ready) body { visibility: hidden; }
</style>
  <!-- ранняя инициализация языка прямо в <head> -->
<script>
  (function() {
    var saved = localStorage.getItem('lang') || 'en';     // дефолт — EN
    document.documentElement.setAttribute('lang', saved); // <html lang="en">
    // Можно сразу пометить активную кнопку, если хочешь:
    // (сработает после появления DOM, но не мешает)
  })();
</script>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>VERSTAK — Typo Composition Generator</title>

  <!-- Google Fonts (странные + базовые, с кириллицей) -->
  <link href="https://fonts.googleapis.com/css2?family=Alice&family=Anonymous+Pro:wght@400;700&family=Bitter:wght@400;700&family=Comfortaa:wght@400;700&family=Cormorant+Garamond:wght@400;700&family=Didact+Gothic&family=Exo+2:wght@400;700&family=Forum&family=IBM+Plex+Mono:wght@400;700&family=JetBrains+Mono:wght@400;700&family=Jura:wght@400;700&family=Kelly+Slab&family=Kurale&family=Lobster&family=Marck+Script&family=Montserrat:wght@400;700&family=Neucha&family=Noto+Sans+Mono:wght@400;700&family=Noto+Serif+Display:wght@400;700&family=Oranienbaum&family=Oswald:wght@400;700&family=PT+Mono&family=PT+Sans:wght@400;700&family=PT+Serif:wght@400;700&family=Philosopher:wght@400;700&family=Play:wght@400;700&family=Playfair+Display:wght@400;700&family=Poiret+One&family=Roboto:wght@400;700&family=Rubik:wght@400;700&family=Ruslan+Display&family=Russo+One&family=Stalinist+One&family=Tenor+Sans&family=Ubuntu:wght@400;700&family=Unbounded:wght@400;700&family=Yeseva+One&family=Comforter&family=Great+Vibes&family=Manrope:wght@200..800&family=Oi&family=Pixelify+Sans:wght@400..700&family=Rubik+Iso&family=Rubik+Puddles&family=Rubik+Wet+Paint&family=Tektur:wght@400..900&family=Inter:wght@400..900&family=Unbounded:wght@200..900&family=Viaoda+Libre&display=swap" rel="stylesheet">
   <link rel="stylesheet" href="style.css" />

  <!-- html2canvas для PNG -->
  <script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>
</head>
<body>
  <div class="app">
    <div class="left">
    <div class="header">
       <h1>Генератор типографических композиций</h1>
      <div class="who-2"><svg width="62" height="18" viewBox="0 0 145 20" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M0.132474 3.84716C-0.433176 1.92557 1.00727 0 3.01038 0H5.92123C7.57809 0 8.92123 1.34315 8.92123 3V9.08268C8.92123 9.86544 9.55579 10.5 10.3386 10.5V10.5C11.1213 10.5 11.7559 9.86544 11.7559 9.08268V3C11.7559 1.34315 13.099 0 14.7559 0H17.6667C19.6698 0 21.1103 1.92557 20.5446 3.84716L16.4235 17.8472C16.0478 19.1236 14.8762 20 13.5456 20H7.1315C5.80093 20 4.62934 19.1236 4.2536 17.8472L0.132474 3.84716Z" fill="black"/>
<path d="M21.8543 3C21.8543 1.34315 23.1974 0 24.8543 0H38.6967C40.3536 0 41.6967 1.34315 41.6967 3V4C41.6967 5.65685 40.3536 7 38.6967 7H32.7755C32.2232 7 31.7755 7.44772 31.7755 8V8C31.7755 8.55228 32.2232 9 32.7755 9H39.6967C40.8013 9 41.6967 9.89543 41.6967 11V11C41.6967 12.1046 40.8013 13 39.6967 13H32.7755C32.2232 13 31.7755 13.4477 31.7755 14V14C31.7755 14.5523 32.2232 15 32.7755 15H39.1967C40.5775 15 41.6967 16.1193 41.6967 17.5V17.5C41.6967 18.8807 40.5775 20 39.1967 20H24.8543C23.1974 20 21.8543 18.6569 21.8543 17V3Z" fill="black"/>
<path d="M64.3738 3C64.3738 1.34315 65.717 0 67.3738 0H81.2163C82.8732 0 84.2163 1.34315 84.2163 3V4C84.2163 5.65685 82.8732 7 81.2163 7H76.7124C76.1601 7 75.7124 7.44772 75.7124 8V8C75.7124 8.55228 76.1601 9 76.7124 9H81.2163C82.8732 9 84.2163 10.3431 84.2163 12V17C84.2163 18.6569 82.8732 20 81.2163 20H66.8738C65.4931 20 64.3738 18.8807 64.3738 17.5V17.5C64.3738 16.1193 65.4931 15 66.8738 15H71.8778C72.43 15 72.8778 14.5523 72.8778 14V14C72.8778 13.4477 72.43 13 71.8778 13H67.3739C65.717 13 64.3738 11.6569 64.3738 10V3Z" fill="black"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M62.9565 10C62.9565 11.6569 61.6134 13 59.9565 13H55.4526C54.9003 13 54.4526 13.4477 54.4526 14V14C54.4526 14.5523 54.9003 15 55.4526 15H60.4565C61.8372 15 62.9565 16.1193 62.9565 17.5V17.5C62.9565 18.8807 61.8372 20 60.4565 20H55.9526C55.1242 20 54.4526 19.3284 54.4526 18.5V18.4173C54.4526 17.6346 53.8181 17 53.0353 17V17C52.2525 17 51.618 17.6346 51.618 18.4173V18.5C51.618 19.3284 50.9464 20 50.118 20H46.1141C44.4572 20 43.1141 18.6569 43.1141 17V3C43.1141 1.34315 44.4572 0 46.1141 0H59.9565C61.6134 0 62.9565 1.34315 62.9565 3V10ZM53.0353 8C52.2525 8 51.618 8.63456 51.618 9.41732V9.58268C51.618 10.3654 52.2525 11 53.0353 11V11C53.8181 11 54.4526 10.3654 54.4526 9.58268V9.41732C54.4526 8.63456 53.8181 8 53.0353 8V8Z" fill="black"/>
<path d="M84.8445 3C84.8445 1.34315 86.1876 0 87.8445 0H101.687C103.344 0 104.687 1.34315 104.687 3V4.09581C104.687 5.25809 104.016 6.31578 102.964 6.81049L102.158 7.18951C101.106 7.68422 100.435 8.74191 100.435 9.90419V17C100.435 18.6569 99.0918 20 97.435 20H92.0964C90.4395 20 89.0964 18.6569 89.0964 17V9.90419C89.0964 8.74191 88.4251 7.68422 87.3733 7.18951L86.5675 6.81049C85.5158 6.31579 84.8445 5.25809 84.8445 4.09581V3Z" fill="black"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M123.591 16.1818C124.134 18.0969 122.696 20 120.705 20H116.253C115.424 20 114.753 19.3284 114.753 18.5V18.4173C114.753 17.6346 114.118 17 113.335 17V17C112.552 17 111.918 17.6346 111.918 18.4173V18.5C111.918 19.3284 111.246 20 110.418 20H105.965C103.975 20 102.536 18.0969 103.079 16.1818L107.047 2.18184C107.413 0.890944 108.592 0 109.934 0H116.737C118.078 0 119.257 0.890947 119.623 2.18184L123.591 16.1818ZM113.335 8C112.552 8 111.918 8.63455 111.918 9.41732V9.58268C111.918 10.3654 112.552 11 113.335 11V11C114.118 11 114.753 10.3654 114.753 9.58268V9.41732C114.753 8.63455 114.118 8 113.335 8V8Z" fill="black"/>
<path d="M125.158 3C125.158 1.34315 126.501 0 128.158 0H130.661C132.318 0 133.661 1.34315 133.661 3V9.58269C133.661 10.3654 134.296 11 135.079 11V11C135.862 11 136.496 10.3654 136.496 9.58269V3C136.496 1.34315 137.839 0 139.496 0H142C143.657 0 145 1.34315 145 3V10C145 11.6569 143.657 13 142 13H137.496C136.944 13 136.496 13.4477 136.496 14V14C136.496 14.5523 136.944 15 137.496 15H142.5C143.881 15 145 16.1193 145 17.5V17.5C145 18.8807 143.881 20 142.5 20H137.996C137.168 20 136.496 19.3284 136.496 18.5V18.4173C136.496 17.6346 135.862 17 135.079 17V17C134.296 17 133.661 17.6346 133.661 18.4173V18.5C133.661 19.3284 132.99 20 132.161 20H128.158C126.501 20 125.158 18.6569 125.158 17V3Z" fill="black"/>
</svg>

 </div>
        <div class="who-3">Навайбкодил: <a href="https://krivenxter.github.io/"> Олег Кривенко</a></div></div>
  
      <div class="controls">
      <button id="btn">Сгенерить</button>
        
         <textarea id="custom" rows="2" placeholder="Ваш Текст"></textarea>
        <button id="moveUp" class="secondary" aria-label="Вверх">▲</button>
        
<button id="moveDown" class="secondary" aria-label="Вниз">▼</button>

        <button id="gradToggle" class="secondary">Градиент</button>
        
                <button id="invert" class="secondary">Белый / чёрный</button>
<!-- …внутри .controls только кнопка -->

        

         
 <button id="micro" class="secondary">Мелкий текст</button>       
        <button id="cringe" class="secondary">Пузыри</button>
        <button id="crosses" class="secondary">Кресты</button>
        
<button id="bgRandom" class="secondary">Рандом Фон</button>

<button id="bgBtn" class="secondary">Фон ✓</button>
<button id="bgClear" class="secondary">Фон ×</button>



<input id="bgUpload" type="file" accept="image/*" hidden>


        <button id="colorToggle" class="secondary">Цвет</button>
        <button id="strokeToggle" class="secondary">Обводка</button>

        <button id="shadowToggle" class="secondary">Тень</button>

        
        <button id="round" class="secondary">Силуэт <svg width="14" height="14" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M19.5506 18.6668C20.0937 19.0468 20.7655 19.1956 21.4183 19.0805C22.071 18.9653 22.6514 18.5957 23.0316 18.0528L23.3186 17.6428L15.9686 12.4968L23.3186 7.34976L23.0316 6.93976C22.6512 6.39702 22.0708 6.02755 21.418 5.9126C20.7653 5.79765 20.0936 5.94662 19.5506 6.32676L13.3536 10.6658L10.7836 8.86576C11.1072 7.85482 11.0629 6.76204 10.6587 5.78056C10.2545 4.79908 9.5164 3.99207 8.57477 3.50215C7.63314 3.01223 6.54864 2.87093 5.51292 3.10324C4.4772 3.33555 3.55693 3.92649 2.91475 4.77165C2.27257 5.61681 1.94982 6.66177 2.00354 7.72187C2.05725 8.78196 2.48397 9.78895 3.20829 10.5649C3.93261 11.3408 4.90789 11.8357 5.96179 11.9621C7.01569 12.0885 8.08035 11.8384 8.96764 11.2558L10.7376 12.4958L8.96964 13.7358C8.08271 13.1527 7.01824 12.9019 5.96431 13.0277C4.91038 13.1535 3.93485 13.6478 3.21009 14.4233C2.48533 15.1987 2.058 16.2054 2.00361 17.2654C1.94922 18.3254 2.27127 19.3706 2.91286 20.2161C3.55445 21.0617 4.47427 21.6532 5.50978 21.8862C6.5453 22.1193 7.62985 21.9787 8.5718 21.4895C9.51374 21.0003 10.2524 20.1939 10.6574 19.2127C11.0623 18.2316 11.1074 17.1389 10.7846 16.1278L13.3536 14.3278L19.5506 18.6668ZM6.49564 5.99476C6.69262 5.99476 6.88768 6.03356 7.06967 6.10894C7.25165 6.18432 7.41701 6.29481 7.5563 6.4341C7.69559 6.57339 7.80608 6.73875 7.88146 6.92074C7.95684 7.10273 7.99564 7.29778 7.99564 7.49476C7.99564 7.69175 7.95684 7.8868 7.88146 8.06879C7.80608 8.25078 7.69559 8.41613 7.5563 8.55542C7.41701 8.69471 7.25165 8.8052 7.06967 8.88058C6.88768 8.95596 6.69262 8.99476 6.49564 8.99476C6.09782 8.99476 5.71628 8.83673 5.43498 8.55542C5.15368 8.27412 4.99564 7.89259 4.99564 7.49476C4.99564 7.09694 5.15368 6.71541 5.43498 6.4341C5.71628 6.1528 6.09782 5.99476 6.49564 5.99476ZM6.49564 15.9948C6.89346 15.9948 7.27499 16.1528 7.5563 16.4341C7.8376 16.7154 7.99564 17.0969 7.99564 17.4948C7.99564 17.8926 7.8376 18.2741 7.5563 18.5554C7.27499 18.8367 6.89346 18.9948 6.49564 18.9948C6.09781 18.9948 5.71628 18.8367 5.43498 18.5554C5.15368 18.2741 4.99564 17.8926 4.99564 17.4948C4.99564 17.0969 5.15368 16.7154 5.43498 16.4341C5.71628 16.1528 6.09781 15.9948 6.49564 15.9948Z" fill="black"/>
</svg>
</button>
<button id="undoAll" class="secondary" hidden>Вернуть <svg width="14" height="14" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M14.0001 13.7499C13.9241 13.7499 13.8492 13.7326 13.7809 13.6993C13.7126 13.666 13.6528 13.6176 13.606 13.5578C12.8917 12.6431 12.2289 11.9371 11.3148 11.464C10.4689 11.0274 9.40635 10.7996 8.0001 10.7571V13.2499C7.9998 13.3475 7.97095 13.4429 7.9171 13.5243C7.86324 13.6057 7.78675 13.6696 7.69704 13.708C7.60733 13.7464 7.50834 13.7578 7.41226 13.7406C7.31618 13.7235 7.22722 13.6786 7.15635 13.6115L1.65635 8.3615C1.60747 8.31481 1.56857 8.2587 1.54199 8.19656C1.51541 8.13442 1.50171 8.06753 1.50171 7.99994C1.50171 7.93235 1.51541 7.86546 1.54199 7.80332C1.56857 7.74117 1.60747 7.68506 1.65635 7.63837L7.15635 2.38838C7.22722 2.32128 7.31618 2.27639 7.41226 2.25924C7.50834 2.2421 7.60733 2.25344 7.69704 2.29188C7.78675 2.33032 7.86324 2.39418 7.9171 2.47557C7.97095 2.55697 7.9998 2.65234 8.0001 2.74994V5.26119C10.317 5.36775 12.0432 6.22712 13.136 7.81962C14.0414 9.13869 14.5001 10.9656 14.5001 13.2499C14.5001 13.3825 14.4474 13.5097 14.3537 13.6035C14.2599 13.6973 14.1327 13.7499 14.0001 13.7499Z" fill="black"/>
</svg>
</button>
  <button id="download" class="down">Скачать  <svg width="18" height="18" viewBox="0 0 24 24" fill="none"
       xmlns="http://www.w3.org/2000/svg">
    <path d="M20 6V18C20 18.5304 19.7893 19.0391 19.4142 19.4142C19.0391 19.7893 18.5304 20 18 20H6C5.46957 20 4.96086 19.7893 4.58579 19.4142C4.21071 19.0391 4 18.5304 4 18V6C4 5.46957 4.21071 4.96086 4.58579 4.58579C4.96086 4.21071 5.46957 4 6 4H18C18.5304 4 19.0391 4.21071 19.4142 4.58579C19.7893 4.96086 20 5.46957 20 6ZM18 6H6V12.38L8.19 10.19L13.42 15.42L14.42 14.42C14.7241 14.1767 15.107 14.0536 15.4959 14.0738C15.8848 14.0941 16.2528 14.2564 16.53 14.53L18 16V6ZM13 9.5C13 9.10218 13.158 8.72064 13.4393 8.43934C13.7206 8.15804 14.1022 8 14.5 8C14.8978 8 15.2794 8.15804 15.5607 8.43934C15.842 8.72064 16 9.10218 16 9.5C16 9.89782 15.842 10.2794 15.5607 10.5607C15.2794 10.842 14.8978 11 14.5 11C14.1022 11 13.7206 10.842 13.4393 10.5607C13.158 10.2794 13 9.89782 13 9.5Z" fill="black"/>
  </svg></button>
          
    </div>
      <footer>
 
            <div class="who-1"><a href="https://t.me/okrivenko">По вопросам сюда</a></div> 
             <div class="lang-switch" role="group" aria-label="Language">
                 <button class="lang-btn" data-lang="en">EN</button>
  <button class="lang-btn" data-lang="ru">RU</button>

    
  
  </footer>
      </div>

      

    <div id="stage" class="stage">
      <div id="bgLayer" class="bg" hidden aria-hidden="true"></div>
<div id="grain" class="grain" hidden aria-hidden="true"></div>




      <!-- основной слой с живой композицией -->
      <div id="composition" class="composition" aria-live="polite">
        <div id="line1" class="line l1"></div>
        <div id="line2" class="line l2"></div>
        <div id="decors" class="decors" aria-hidden="true"></div>

      </div>

      <!-- оверлей для результата скругления (не ломает DOM) -->
<div id="overlay" class="overlay" hidden>
  <div id="innerShadow" class="inner-shadow" aria-hidden="true"></div>

   <div id="silhouetteStroke" class="silhouette-stroke" aria-hidden="true"></div>
  <div id="silhouetteFill" class="silhouette-fill" aria-hidden="true"></div>
</div>

    </div>
    
    <div class="mob-podval">
   <div class="who"><a href="https://t.me/okrivenko">По вопросам сюда</a></div> 
           
</div>

      </div>
    
    
    
    <!-- В САМОМ НИЗУ страницы, перед </body> -->
<div id="gradModal" class="modal-backdrop" hidden>
  <div class="modal" role="dialog" aria-modal="true" aria-labelledby="gradTitle">
    <div class="modal-head">
      <div id="gradTitle" class="modal-title">Градиент фона</div>
      <button id="gradClose" class="icon-btn" type="button" aria-label="Закрыть">✕</button>
    </div>
   <div class="modal-body">
     
  <label>Цвет 1
    <input type="color" id="gradA" value="#c7c7c7">
  </label>

  <label>Цвет 2
    <input type="color" id="gradB" value="#4d70ff">
  </label>

  <label>Цвет 3
    <input type="color" id="gradC" value="#ff75bf">
  </label>

  <label>Угол (°)
    <input type="range" id="gradAngle" min="0" max="360" value="-180">
  </label>

  <label>Смещение между Цвет 1 и Цвет 2 (%)
    <input type="range" id="gradBias1" min="0" max="100" value="15">
  </label>

  <label>Смещение между Цвет 2 и Цвет 3 (%)
    <input type="range" id="gradBias2" min="0" max="100" value="85">
  </label>
     <label>Шум (интенсивность %)
  <input type="range" id="gradNoise" min="0" max="40" value="0">
</label>
<label>Размер зерна (px)
  <input type="range" id="gradNoiseSize" min="300" max="800" value="6">
</label>

</div>

    <div class="modal-foot">
      <button id="gradRandom">🎲 Зарандомить</button>
      <button id="gradClear" class="secondary" type="button">Убрать градиент</button>
      <button id="gradDone" type="button">Готово</button>
    </div>
  </div>
</div>
    <!-- Модалка цвета -->
<div id="colorModal" class="modal-backdrop" hidden>
  <div class="modal" role="dialog" aria-modal="true" aria-labelledby="colorTitle">
    <div class="modal-head">
      <div id="colorTitle" class="modal-title">Цвет композиции</div>
      <button id="colorClose" class="icon-btn" type="button" aria-label="Закрыть">✕</button>
    </div>
    <div class="modal-body">
      <label>Цвет
        <input type="color" id="colorPick" value="#111111">
      </label>
      
      <label>Непрозрачность силуэта (%)
        <input type="range" id="colorAlpha" min="0" max="100" value="100">
      </label>
    </div>
    <label>Цвет обводки
  <input type="color" id="strokeColor" value="#21d25a">
</label>
<label>Толщина обводки (px)
  <input type="range" id="strokeWidth" min="0" max="60" value="14">
</label>
<label style="display:flex;align-items:center;gap:8px;">
  <input type="checkbox" id="strokeEnabled" checked>
  Обводка включена
</label>
    <div class="modal-foot">
      <button id="colorDone" type="button">Готово</button>
    </div>
  </div>
</div>
    
    <!-- Модалка внутренней тени -->
<div id="shadowModal" class="modal-backdrop" hidden>
  <div class="modal" role="dialog" aria-modal="true" aria-labelledby="shadowTitle">
    <div class="modal-head">
      <div id="shadowTitle" class="modal-title">Внутренняя тень</div>
      <button id="shadowClose" class="icon-btn" type="button" aria-label="Закрыть">✕</button>
    </div>
    <div class="modal-body">
      <label>Цвет
        <input type="color" id="shadowColor" value="#000000">
      </label>
      <label>Прозрачность (%)
        <input type="range" id="shadowAlpha" min="0" max="100" value="35">
      </label>
      <label>Размытие (px)
        <input type="range" id="shadowBlur" min="0" max="60" value="24">
      </label>
      <label>Размер внутрь (px)
        <input type="range" id="shadowInset" min="0" max="60" value="12">
      </label>
      <label>Смещение X (px)
  <input type="range" id="shadowOffsetX" min="-80" max="80" value="0">
</label>
<label>Смещение Y (px)
  <input type="range" id="shadowOffsetY" min="-80" max="80" value="0">
</label>

    </div>
    <div class="modal-foot">
      <button id="shadowApply">Применить</button>
      <button id="shadowClear" class="secondary" type="button">Убрать тень</button>
      <button id="shadowDone" class="secondary" type="button">Готово</button>
    </div>
  </div>
</div>


<script src="script.js"></script>
</body>
</html>
